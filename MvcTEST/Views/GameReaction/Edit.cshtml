@model MvcTEST.Models.tblGame
@using MvcTEST.HtmlHelpers
@{
    ViewBag.Title = "Reaction";
}
<style>
    #newXXXVal {
        z-index: 10000;
        position: relative;
        padding: 25px;
        width: 580px;
        height: 100px;
        text-align: left;
        overflow: hidden;
        margin: 0px;
        font: bold 11px Verdana, Sans-serif;
        color: #fff;
        font-size: 16px;
        color: black;
        -moz-box-shadow: 3px 3px 5px 6px #000;
        -webkit-box-shadow: 3px 3px 5px 6px #000;
        box-shadow: 0px 0px 20px 0px gray;
        border: 0px solid;
        border-radius: 10px;
        -moz-border-radius: 10px;
    }

    .radiobtn {
    }

    .medvedButton {
        border: 4px solid;
        border-radius: 10px;
        text-shadow: #575757 1px 1px 0;
        font-style: normal;
        font-weight: bold;
        font-size: 24px;
        font-family: 'Open Sans', sans-serif;
        color: #ffffff;
        text-align: center;
        vertical-align: central;
        line-height: 50px;
        display: -moz-inline-stack;
        display: inline-block;
        width: 280px;
        height: 68px;
        background-color: #d4d4d4;
        background-image: -moz-linear-gradient(top, #d4d4d4, #525252 75px);
        background-image: -webkit-linear-gradient(top, #d4d4d4, #525252 75px);
        background-image: -o-linear-gradient(top, #d4d4d4, #525252 75px);
        background-image: -ms-linear-gradient(top, #d4d4d4, #525252 75px);
        background-image: linear-gradient(top, #d4d4d4, #525252 75px);
    }
</style>

<script src="@Url.Content("~/Scripts/jquery-1.7.1.min.js")" type="text/javascript"></script>
<script type="text/javascript" src="/Scripts/fancybox/jquery.fancybox-1.3.4.js"></script>
<script type="text/javascript" src="/Scripts//fancybox/jquery.Easing-1.3.pack.js"></script>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js" type="text/javascript"></script>
<script src="http://ajax.microsoft.com/ajax/jQuery.Validate/1.7/jQuery.Validate.min.js" type="text/javascript"></script>
<script src="http://ajax.aspnetcdn.com/ajax/mvc/3.0/jquery.validate.unobtrusive.min.js" type="text/javascript"></script>

<link id="size-stylesheet" href="@Url.Content("/Content/style.css")" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="@Url.Content("~/Scripts/fancybox/jquery.fancybox-1.3.4.css")" type="text/css" media="screen" />

<div id="l1" style="padding: 10px; width: 890px; height: inherit; position: relative; z-index: 1; -moz-box-shadow: 3px 3px 5px 6px #000; -webkit-box-shadow: 3px 3px 5px 6px #000; box-shadow: 0px 0px 20px 0px gray; border: 0px solid; border-radius: 10px; -moz-border-radius: 10px; background-color: #EFECE7;">
    <div align="right" style="border: 0px solid;">
        <a href="@Url.Action("Games", "Configurator")" >
            <img src="~/Images/close.jpg" border="0" /></a>
    </div>
    @using (Html.BeginForm("Edit", "GameReaction", FormMethod.Post, new { enctype = "multipart/form-data", id = "gamereactionedit" }))
    {
        <div>
            <table style="width: 800px;">
                <tr>
                    <td>
                        <table style="width: 400px; text-align: left">
                            <tr>
                                <td>
                                    <img src="~/ImagesApp/reakcija.png" />
                                </td>

                            </tr>
                        </table>
                    </td>
                    <td>
                        <table style="width: 350px; text-align: right;">
                            <tr>
                                <td colspan="2">
                                    <font size="6" style="color: #0360a3; font-family: 'Open Sans', sans-serif; padding-right: 10px;">
                                        <b> @ViewBag.game.CategoryName.ToUpper() </b></td>
                            </tr>
                            <tr>
                                <td style="text-align: left;">
                                    <div class="editor-label" style="text-align: right; width: 160px;">
                                        @Html.LabelFor(model => model.Name, @Html.Translate("Naziv igre"), new { style = "text-align:right;" })
                                    </div>
                                </td>
                                <td style="text-align: left;">
                                    <div class="editor-field" style="width: 280px; padding-right: 10px;">

                                        @Html.TextBoxFor(model => model.Name, new { style = "width: 250px; padding-right:10px;" })
                                        @Html.ValidationMessageFor(model => model.Name)
                                    </div>
                                </td>

                            </tr>
                        </table>
                    </td>
                    <td style="width: 50px;"></td>
                </tr>
            </table>

        </div>       
            
        <hr /> 
        @Html.ValidationSummary(true)

        <fieldset>


            @Html.HiddenFor(model => model.ID)
            @Html.HiddenFor(model => model.CategoryID)
            @Html.HiddenFor(model => model.NameHR)
            @Html.HiddenFor(model => model.NameENG)
            @Html.HiddenFor(model => model.IsRandom)
            @Html.HiddenFor(model => model.RandomValue)
            @Html.HiddenFor(model => model.RandomType)
            @Html.HiddenFor(model => model.IsTimeLimit)
            @Html.HiddenFor(model => model.TimeLimit)
            @Html.HiddenFor(model => model.Objectives)
            @Html.HiddenFor(model => model.Definition)
            @Html.HiddenFor(model => model.DescriptionHR)
            @Html.HiddenFor(model => model.NumShownFields)
            @Html.HiddenFor(model => model.NumRepetition)
            @Html.HiddenFor(model => model.RandomFields)
            @Html.HiddenFor(model => model.CategoryID)
            @Html.HiddenFor(model => model.MinStayTime)
            @Html.HiddenFor(model => model.MaxStayTime)
            @Html.HiddenFor(model => model.MinFlyTime)
            @Html.HiddenFor(model => model.MaxFlyTime)
            @Html.HiddenFor(model => model.LegLeft)
            @Html.HiddenFor(model => model.LegRight)
            @Html.HiddenFor(model => model.ReactionFootDef)

            <table style="background-color:white; width:850px;" >
                <tr>
                    <td style="width: 200px;">
                        <div class="editor-label">
                            @Html.LabelFor(model => model.QuickGamePool)
                        </div>
                    </td>
                    <td style="width:40px;vertical-align:bottom;">
                        <img src="~/ImagesApp/quickgame.png"  height="35"/>
                    </td>
                    <td>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.QuickGamePool)
                            @Html.ValidationMessageFor(model => model.QuickGamePool)
                        </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="editor-label">
                            @Html.LabelFor(model => model.StartField,"Start position")
                        </div>
                    </td>
                    <td style="width: 40px;">
                        <img src="~/ImagesApp/startfield.png"  height="37" width="37"/>
                    </td>
                    <td>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.StartField)
                            @Html.ValidationMessageFor(model => model.StartField)
                        </div>
                    </td>
                    <td>(field)</td>
                </tr>
                <tr>
                    <td>
                        <div class="editor-label">
                            @Html.LabelFor(model => model.Countdown)
                        </div>
                    </td>
                    <td style="width: 40px; "><img src="~/ImagesApp/countdown.jpg" height="37" width="37"/></td>
                    <td>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Countdown)
                            @Html.ValidationMessageFor(model => model.Countdown)
                        </div>
                    </td>
                    <td></td>
                </tr>

                <tr>
                    <td>
                        <div class="editor-label">
                            @Html.LabelFor(model => model.LegLeft)
                        </div>
                    </td>
                    <td style="width: 40px;">
                        <img src="~/ImagesApp/lf.jpg" height="40" />
                    </td>
                    <td>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.LegLeft)
                            @Html.ValidationMessageFor(model => model.LegLeft)
                        </div>
                    </td>
                </tr>

                <tr>
                    <td style="width: 40px;">
                        <div class="editor-label">
                            @Html.LabelFor(model => model.LegRight)
                        </div>
                    </td>
                    <td style="width: 40px;">
                        <img src="~/ImagesApp/rf.jpg" height="40" />
                    </td>
                    <td>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.LegRight)
                            @Html.ValidationMessageFor(model => model.LegRight)
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="editor-label">
                            @Html.LabelFor(model => model.Quantity)
                        </div>
                    </td>
                    <td style="width: 40px;"></td>
                    <td>
                        <div class="editor-field" >
                            @Html.EditorFor(model => model.Quantity, new { style="width:60px;" })
                            @Html.ValidationMessageFor(model => model.Quantity)
                        </div>
                    </td>

                </tr>

                <tr>
                    <td>
                        <div class="editor-label">
                            @Html.LabelFor(model => model.Distance)
                        </div>
                    </td>
                    <td style="width: 40px;">
                        <img src="~/ImagesApp/ruler_lock.png" height="40" />
                    </td>
                    <td>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Distance)
                            @Html.ValidationMessageFor(model => model.Distance)
                        </div>
                    </td>
                    <td>
                        [m]
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="editor-label">
                            @Html.LabelFor(model => model.Description)
                        </div>
                    </td>
                    <td style="width: 40px;">
                        <img src="~/ImagesApp/iphone_messages_icon.png" height="40" /></td>
                    <td>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Description)
                            @Html.ValidationMessageFor(model => model.Description)
                        </div>
                    </td>
                    <td></td>
                </tr>

                <tr>
                    <td>
                        <div class="editor-label">
                            @Html.LabelFor(model => model.DescriptionDuration, @Html.Translate("Description duration"))
                        </div>
                    </td>
                    <td style="width: 40px;">
                        <img src="~/ImagesApp/description_duration.png" height="40" />
                    </td>
                    <td>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.DescriptionDuration)
                            @Html.ValidationMessageFor(model => model.DescriptionDuration)
                        </div>
                    </td>
                    <td>
                        [s]
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="editor-label" style="width: 200px;">
                            @Html.LabelFor(model => model.ReactionSignalID, "Kind of Signal")
                        </div>
                    </td>
                    <td style="width: 40px;"></td>
@*                    <td>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.ReactionSign)
                            @Html.ValidationMessageFor(model => model.ReactionSign)
                        </div>
                    </td>*@
                    <td>
                        <img src="~/ImagesApp/oko.png" height="45" />
                        @Html.RadioButtonFor(model => model.ReactionSignalID, 1)  

                                                <img src="~/ImagesApp/zvucniks.png" height="45" />
                        @Html.RadioButtonFor(model => model.ReactionSignalID, 2)  
                    </td>


                </tr>

                <tr>
                    <td>
                        <div class="editor-label">
                            @Html.LabelFor(model => model.Reaction)
                        </div>
                    </td>
                    <td style="width: 40px;"></td>
                    <td>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.Reaction)
                            @Html.ValidationMessageFor(model => model.Reaction)
                        </div>
                    </td>
                </tr>

                <tr>
                    <td>
                        <div class="editor-label">
                            @Html.LabelFor(model => model.ReactionTime)
                        </div>
                    </td>
                    <td style="width: 40px;"></td>
                    <td>
                        <div class="editor-field">
                            @Html.EditorFor(model => model.ReactionTime)
                            @Html.ValidationMessageFor(model => model.ReactionTime)
                        </div>
                    </td>
                    <td>
                        [ms]
                    </td>
                </tr>
                <tr>
                    <td>
                        <div class="editor-label">
                            @Html.LabelFor(model => model.ReactionTypeID, "Reaction Type")
                        </div>
                    </td>
                    <td style="width: 40px;"></td>
                    <td colspan="4">
@*                        <div class="editor-field">
                            @Html.EditorFor(model => model.ReactionTypeID)
                            @Html.ValidationMessageFor(model => model.ReactionTypeID)
                        </div>*@
                        <img src="~/ImagesApp/FOOT_LEFT.png" height="40" />
                        @Html.RadioButtonFor(model => model.ReactionTypeID, 1)  

                        <img src="~/ImagesApp/FOOT_RIGHT.png" height="40" />
                        @Html.RadioButtonFor(model => model.ReactionTypeID, 2)  

                        <img src="~/ImagesApp/FOOT_AC.png" height="40" />
                        @Html.RadioButtonFor(model => model.ReactionTypeID, 3)  

                        <img src="~/ImagesApp/FOOT_FREE.png" height="40" />
                        @Html.RadioButtonFor(model => model.ReactionTypeID, 4)  

                        <img src="~/ImagesApp/FOOT_BOTH.png" height="40" />
                        @Html.RadioButtonFor(model => model.ReactionTypeID, 5)  
                    </td>
                </tr>

                <tr>
                    <!-- DELETE -->
                    <td colspan="2">
                            <input id="delete" type="submit" value="@Html.Translate("Delete").ToUpper()" class="gray-button"/>
                    </td>
                    <!-- SAVE -->
                    <td colspan="2" style="text-align: right;">
                        @*<input id="SaveAs" type="button" value="@Html.Translate("Speichern")" class="medvedButton" />*@
                        <input id="Save" type="submit" value="@Html.Translate("Speichern").ToUpper()" class="gray-button"/>
                    </td>
                    <td colspan="2" style="text-align: right;">
                        @*<input id="SaveAs2" type="submit" value="@Html.Translate("Save as").ToUpper()" class="save"  onclick="mySaveAs()"/>*@
                        <input id="SaveAs2" type="button" value="@Html.Translate("Save as").ToUpper()" class="save"  onclick="mySaveAs()"/>

                    </td>
                    <!-- SAVE AS -->
@*                    <td colspan="14" >
                        <a id="inlineNewXXX" href='#newXXXVal' class="medvedButton"  style="height:60px !important;">
                            @Html.Translate("Speichern unter")
                            <div style="display:none; width:600px;"> 
                                <div id="newXXXVal"> 
                                    <table>
                                        <tr>
                                            <td>
                                                <font style="color:gray;">Save </font>
                                            </td>
                                            <td>
                                                <font style="color:gray;"> as: </font>
                                            </td>
                                            <td>
                                                <input  style="width:460px; color: #0360a3;" id="txtGameName" type="text" value=@ViewBag.game.Name > </input>
                                            </td>
                                        </tr>
                                    </table>
                                    <table>
                                        <tr>
                                            <td>
                                                <input type="button" OnClick="javascript: $.fancybox.close();" value="@Html.Translate("Abbrechen")" class="medvedButton" />
                                            </td>
                                            <td>
                                                <input id="SaveAs" type="button" value="@Html.Translate("Speichern")" class="medvedButton" style="height:70px !important;"/>   
                                            </td>
                                        </tr>
                                    </table>
                                </div> 
                            </div> 
                        </a> 
                    </td>                *@
                </tr>
            </table>

        </fieldset>
    }

    <div>
        @Html.ActionLink("Back to List", "Index")
    </div>

    @section Scripts {
        @Scripts.Render("~/bundles/jqueryval")
    }



</div>
            <script type="text/javascript">

                $(document).ready(function () {
                    
                    //$('#inlineNewXXX').fancybox({

                    //    'titlePosition': 'inside',
                    //    'transitionIn': 'fade',
                    //    'transitionOut': 'fade',
                    //    'autoDimensions': 'false',
                    //    'overlayOpacity': 0.5
                    //});


                    $('#delete').click(function ()
                    {
                        //if (confirm("Are you sure?")) {
                            if (confirm("Sind Sie sicher?")) {
                            $.post('@Url.Action("Delete", "GameReaction", new { Model.ID })', function (data) {
                                window.location.href = '@Url.Action("Games","Configurator")';
                            });                            
                        }
                        return false;
                    });
                    
                    $('#SaveAs').click(function ()
                    {


                        //alert("snimanje.......");

@*                        $.post('@Url.Action("SaveAs2", "GameReaction")' ,     { Name : $('#txtGameName').val(), IsRandom: true, RandomValue: $('#RandomValue').val(), 
                            RandomType: 1, IsTimeLimit: false, TimeLimit: $('#TimeLimit').val(), 
                            Description: $('#Description').val(), Objectives: $('#Objectives').val(), Definition: $('#Definition').val(), 
                            NumShownFields: $('#NumShownFields').val(), NumRepetition: $('#NumRepetition').val(), RandomFields: $('#RandomFields').val(), 
                            QuickGamePool: true, CategoryID: $('#CategoryID').val(), MinStayTime: $('#MinStayTime').val(),
                            MaxStayTime: $('#MaxStayTime').val(), MinFlyTime: $('#MinFlyTime').val(), MaxFlyTime: $('#MaxFlyTime').val(),
                            StartField: $('#StartField').val(), Countdown: $('#Countdown').val(), LegLeft: true, LegRight: true, Quantity: $('#Quantity').val(), Distance : 0
                                                                          },
                         function (data) {
                             $('#ID').val(data);
                             //$('#tappingName').html($('#txtGameName').val());
                             $.fancybox.close();
                             debugger;
                             window.location.href = '@Url.Action("Edit", "GameReactionController")';
                        });*@
                    });

                });


                function fancyConfirm(dataObject) {
                    var makeSureText = ich['areYouSure'](dataObject);
                    $.fancybox({
                        modal: true,
                        content: makeSureText,
                        onComplete: function () {
                            $("#okConfirm").click(function (event, dataObject) {
                                event.preventDefault();
                                dataObject.confirmed();
                                $.fancybox.close();
                            })
                            $("#cancelConfirm").click(function (event) {
                                event.preventDefault();
                                $.fancybox.close();
                            })
                        },
                        onClosed: function () {
                            return false;
                        }
                    });
                    return false;
                }

                function mySaveAs() {
                    var x;
                    var newgamename = prompt("Bitte geben Sie einen neuen Namen!", "Reaction ...");

                    if (newgamename != null) {
                    $.post('@Url.Action("SaveAs3", "GameReaction")', {
                        Name: newgamename, IsRandom: false, RandomValue: $('#RandomValue').val(),
                        RandomType: 1, IsTimeLimit: false, TimeLimit: $('#TimeLimit').val(),
                        Description: $('#Description').val(), Objectives: $('#Objectives').val(), Definition: $('#Definition').val(),
                        NumShownFields: $('#NumShownFields').val(), NumRepetition: $('#NumRepetition').val(), RandomFields: $('#RandomFields').val(),
                        QuickGamePool: true, CategoryID: $('#CategoryID').val(), MinStayTime: $('#MinStayTime').val(),
                        MaxStayTime: $('#MaxStayTime').val(), MinFlyTime: $('#MinFlyTime').val(), MaxFlyTime: $('#MaxFlyTime').val(),
                        StartField: $('#StartField').val(), Countdown: $('#Countdown').val(), LegLeft: true, LegRight: true, Quantity: $('#Quantity').val(), Distance: 0,
                        ReactionSignalID: $('#ReactionSignalID').val(), Reaction: $('#Reaction').val(), ReactionTime: $('#ReactionTime').val(), ReactionTypeID: $('#ReactionTypeID').val(),
                        MemoryTypeID: 0
                    },
                        function (data) {
                                                 
                            window.location.href = '@Url.Action("Games", "Configurator")';
                        }
                        );

                    }
                }

            </script>