@{
    Layout = null;

}

<style type="text/css">
    .fldSmall {
        width: 24px;
        height: 24px;
        margin-left: 1px;
        margin-top: 1px;
        font-size: 12px;
        font-family: Verdana;
        font-weight: bold;
        text-align: center;
        /*line-height: 24px;*/
        vertical-align: middle;
        background-color: red;
        color: white;
    }

    .fldBig {
        width: 50px;
        height: 50px;
        margin: 10px;
        font-size: 22px;
        font-family: Verdana;
        font-weight: bold;
        text-align: center;
        line-height: 50px;
        vertical-align: middle;
        background-color: red;
        color: white;
    }
    /*.fldSmall {
        border: 2px solid #bbb;
        width: 41px;
        height: 41px;
        line-height: 41px;
        font-size: 17px;
        text-align: center;
        vertical-align: middle;
        background-image: linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%);
        background-image: -o-linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%);
        background-image: -moz-linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%);
        background-image: -webkit-linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%);
        background-image: -ms-linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%);
        border: 2px solid #bbb;
    }*/
    .fldSmallOff {
        width: 24px;
        height: 24px;
        line-height: 24px;
        font-size: 12px;
        font-family: Verdana;
        font-weight: bold;
        text-align: center;
        vertical-align: middle;
        background-image: none;
        background-color: white;
        border: dashed 2px #bbb;
        color: #bbb;
    }
    .fldSmallOffred {
        width: 24px;
        height: 24px;
        line-height: 24px;
        font-size: 12px;
        font-family: Verdana;
        font-weight: bold;
        text-align: center;
        vertical-align: middle;
        background-image: none;
        background-color: white;
        border: dashed 2px #b00;
        color: #b00;
    }

    /*.fldBig {
        width: 85px;
        height: 85px;
        margin: 10px;
        font-size: 35px;
        text-align: center;
        line-height: 85px;
        vertical-align: middle;
        background-image: linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%);
        background-image: -o-linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%);
        background-image: -moz-linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%);
        background-image: -webkit-linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%);
        background-image: -ms-linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%);
        border: 2px solid #bbb;
        color: black;
    }*/

    .fldBigOff {
        width: 50px;
        height: 50px;
        margin: 10px;
        font-size: 22px;
        line-height: 50px;
        font-family: Verdana;
        font-weight: bold;
        text-align: center;
        background-image: none;
        background-color: white;
        border: dashed 2px #bbb;
        color: #bbb;
    }

    .fldBigOffRed {
        width: 50px;
        height: 50px;
        margin: 10px;
        font-size: 22px;
        font-family: Verdana;
        font-weight: bold;
        text-align: center;
        line-height: 50px;
        vertical-align: middle;
        background-image: none;
        background-color: #faaaaa;
        border: dashed 2px #bbb;
        color: #bbb;
    }

    .hollow {
        border: 2px solid #bbb;
        background-color: white;
    }

    #fldC {
        width: 85px;
        height: 85px;
        margin: 2px 2px 2px 2px;
        vertical-align: top;
    }
</style>
@*<script type="text/javascript" src="/Scripts/jquery-css-transform.js"></script>
    <script type="text/javascript" src="/Scripts/rotate3Di.js"></script>*@
<script src="@Url.Content("~/Scripts/jquery-1.7.1.min.js")" type="text/javascript"></script>
<script type="text/javascript" src="/Scripts/fancybox/jquery.fancybox-1.3.4.js"></script>
<script type="text/javascript" src="/Scripts//fancybox/jquery.Easing-1.3.pack.js"></script>
<link id="size-stylesheet" href="@Url.Content("/Content/style.css")" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="@Url.Content("~/Scripts/fancybox/jquery.fancybox-1.3.4.css")" type="text/css" media="screen" />

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>RandomFields</title>
</head>

<body>
    <!-- CLICK = exec setRandomField GameID, Field -->
    <div style=" /*margin-top:50px;*/">
        <div>
            @*<table border="0" style="width:300px; border-color:yellow; vertical-align:top; ">
            <tr>

                <td style="width: 100px; height: 100px;"><div id="fld@(ViewBag.teren.F01ID.ToString())" class="fldBig">@ViewBag.teren.F01Name</div></td>
                        <td style="width: 100px; height: 100px; "><div id="fld@(ViewBag.teren.F02ID.ToString())" class="fldBig">@ViewBag.teren.F02Name</div></td>
                                <td style="width: 100px; height: 100px; "><div id="fld@(ViewBag.teren.F03ID.ToString())" class="fldBig">@ViewBag.teren.F03Name</div></td>

                                    </tr>
            <tr>
                <td style="width: 100px; height: 100px;"><div id="fld@(ViewBag.teren.F08ID.ToString())" class="fldBig">@ViewBag.teren.F08Name</div></td>
                        <td style="width: 100px; height: 100px;">
            <div id="xfldc">
            <table style="width: 50px; height: 50px;" border="0">

            <tr>
                <td style="width:25px; "><div id="fld@(ViewBag.teren.F09ID.ToString())" class="fldSmall">@ViewBag.teren.F09Name</div></td>
                        <td style="width:25px; "><div id="fld@(ViewBag.teren.F10Name.ToString())" class="fldSmall">@ViewBag.teren.F10Name</div></td>
                            </tr>

            <tr>
                <td style="width:25px; "><div id="fld@(ViewBag.teren.F12ID.ToString())" class="fldSmall">@ViewBag.teren.F12Name</div></td>
                        <td style="width:25px; "><div id="fld@(ViewBag.teren.F11ID.ToString())" class="fldSmall">@ViewBag.teren.F11Name</div></td>
                            </tr>

                        </table>
                    </div>
                </td>
                <td style="width: 100px; height:100px; "><div id="fld@(ViewBag.teren.F04ID.ToString())" class="fldBig">@ViewBag.teren.F04Name</div></td>
                    </tr>
            <tr>
                <td style="width: 100px; height: 100px;"><div id="fld@(ViewBag.teren.F07ID.ToString())" class="fldBig">@ViewBag.teren.F07Name</div></td>
                        <td style="width: 100px; height: 100px;"><div id="fld@(ViewBag.teren.F06ID.ToString())" class="fldBig">@ViewBag.teren.F06Name</div></td>
                                <td style="width: 100px; height: 100px;"><div id="fld@(ViewBag.teren.F05ID.ToString())" class="fldBig">@ViewBag.teren.F05Name</div></td>
                                    </tr>
         </table>*@

            <table border="0" style="width:100px; height:100px; border-color:yellow; vertical-align:top; ">
                <tr>
                    <td style="width:40px; " valign="baseline"><div id="fld@(ViewBag.teren.F01ID.ToString())" class="@(ViewBag.game.RF01 > 0?"fldBig":"fldBigOff")">@ViewBag.teren.F01Name</div></td>
                    <td style="width:40px; " valign="baseline"><div id="fld@(ViewBag.teren.F02ID.ToString())" class="@(ViewBag.game.RF02 > 0 ? "fldBig" : "fldBigOff")">@ViewBag.teren.F02Name</div></td>
                    <td style="width:40px; " valign="baseline"><div id="fld@(ViewBag.teren.F03ID.ToString())" class="@(ViewBag.game.RF03 > 0 ? "fldBig" : "fldBigOff")">@ViewBag.teren.F03Name</div></td>

                </tr>
                <tr>
                    <td style="width:40px; " valign="baseline"><div id="fld@(ViewBag.teren.F08ID.ToString())" class="@(ViewBag.game.RF08 > 0 ? "fldBig" : "fldBigOff")">@ViewBag.teren.F08Name</div></td>
                    <td valign="top">
                        <div id="fldC">
                            <table border="0" valign="top">
                                <tr valign="top">
                                    <td style="width:20px; " valign="baseline"><div id="fld@(ViewBag.teren.F09ID.ToString())" class="@(ViewBag.game.RF09 > 0 ? "fldSmall" : "fldSmallOffred")">@ViewBag.teren.F09Name</div></td>
                                    <td style="width:20px; " valign="baseline"><div id="fld@(ViewBag.teren.F10ID.ToString())" class="@(ViewBag.game.RF10 > 0 ? "fldSmall" : "fldSmallOffred")">@ViewBag.teren.F10Name</div></td>
                                </tr>
                                <tr>
                                    <td style="width:20px; " valign="baseline"><div id="fld@(ViewBag.teren.F12ID.ToString())" class="@(ViewBag.game.RF12 > 0?"fldSmall":"fldSmallOffred")">@ViewBag.teren.F12Name</div></td>
                                    <td style="width:20px; " valign="baseline"><div id="fld@(ViewBag.teren.F11ID.ToString())" class="@(ViewBag.game.RF11 > 0 ? "fldSmall" : "fldSmallOffred")">@ViewBag.teren.F11Name</div></td>
                                </tr>
                            </table>
                        </div>
                    </td>
                    <td style="width:40px; " valign="baseline"><div id="fld@(ViewBag.teren.F04ID.ToString())" class="@(ViewBag.game.RF04 > 0?"fldBig":"fldBigOff")">@ViewBag.teren.F04Name</div></td>
                </tr>
                <tr>
                    <td style="width:40px; " valign="baseline"><div id="fld@(ViewBag.teren.F07ID.ToString())" class="@(ViewBag.game.RF07 > 0 ? "fldBig" : "fldBigOff")">@ViewBag.teren.F07Name</div></td>
                    <td style="width:40px; " valign="baseline"><div id="fld@(ViewBag.teren.F06ID.ToString())" class="@(ViewBag.game.RF06 > 0 ? "fldBig" : "fldBigOff")">@ViewBag.teren.F06Name</div></td>
                    <td style="width:40px; " valign="baseline"><div id="fld@(ViewBag.teren.F05ID.ToString())" class="@(ViewBag.game.RF05 > 0 ? "fldBig" : "fldBigOff")">@ViewBag.teren.F05Name</div></td>
                </tr>
            </table>
        </div>
    </div>

</body>

<script type="text/javascript">


    $('.fldSmall').click(function () {
        changeToInactiveSmall(this);

    });


    $('.fldSmallOff').click(function () {
        changeToActiveSmall(this);
    });

    function changeToActiveSmall(ctrl) {
        $.post("/GameInOut/SetRandomFields?GameID=0" + "&Field=" + ctrl.id);
        $('#' + ctrl.id).unbind('click');
        $('#' + ctrl.id).attr("class", "fldSmall");
        $('#' + ctrl.id).bind('click', function () {
            changeToInactiveSmall(this);
        });
    }

    function changeToInactiveSmall(ctrl) {
        $.post("/GameInOut/SetRandomFields?GameID=0" + "&Field=" + ctrl.id);
        $('#' + ctrl.id).unbind('click');
        $('#' + ctrl.id).attr("class", "fldSmallOff");
        $('#' + ctrl.id).bind('click', function () {
            changeToActiveSmall(this);
        });
    }

    $('.fldBig').bind('click', function () {
        changeToInactiveBig(this);
    });

    $('.fldBigOff').bind('click', function () {
        changeToActiveBig(this);
    });

    function changeToActiveBig(ctrl) {
        $.post("/GameInOut/SetRandomFields?GameID=0" + "&Field=" + ctrl.id);
        $('#' + ctrl.id).unbind('click');
        $('#' + ctrl.id).attr("class", "fldBig");
        $('#' + ctrl.id).bind('click', function () {
            changeToInactiveBig(this);
        });
    }

    function changeToInactiveBig(ctrl) {
        $.post("/GameInOut/SetRandomFields?GameID=0" + "&Field=" + ctrl.id);
        $('#' + ctrl.id).unbind('click');
        $('#' + ctrl.id).attr("class", "fldBigOff");
        $('#' + ctrl.id).bind('click', function () {
            changeToActiveBig(this);
        });
    }

    var wsUri = "ws://localhost:8080/test";

    var action = {
        turnon: function (field) {
            $('#' + field).css('background-image', 'none');
            $('#' + field).css('background-color', 'yellow');
        },
        turnoff: function (field) {
            //$('#'+field).css('background-color', 'white');
            $('#' + field).css('background-image', 'linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%)');
            $('#' + field).css('background-image', '-o-linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%)');
            $('#' + field).css('background-image', '-moz-linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%)');
            $('#' + field).css('background-image', '-webkit-linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%)');
            $('#' + field).css('background-image', '-ms-linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%)');
            $('#' + field).rotate3Di(360, 500);
        },
        turnoffnoeffects: function (field) {
            //$('#'+field).css('background-color', 'white');
            $('#' + field).css('background-image', 'linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%)');
            $('#' + field).css('background-image', '-o-linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%)');
            $('#' + field).css('background-image', '-moz-linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%)');
            $('#' + field).css('background-image', '-webkit-linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%)');
            $('#' + field).css('background-image', '-ms-linear-gradient(bottom, rgb(209,209,209) 25%, rgb(237,237,237) 63%)');
        },
        countdown: function (secs) {
            count = parseInt(secs) + 1;
            counter = setInterval(timer, 1000);
        }
    };

    //$("[id^='dF']").click(function () {
    //    //alert($(this).css('background-color'));
    //    if ($(this).css('background-color') == 'rgb(255, 0, 0)') {
    //        $(this).css('background-color', 'rgb(128, 128, 128)');
    //    }
    //    else {
    //        $(this).css('background-color', 'rgb(255, 0, 0)');
    //    }
    //    ss = '';
    //    ssID = '';
    //    $("[id^='dF']").each(function (index) {
    //        sss = $(this).attr('id');
    //        if ($(this).css('background-color') == 'rgb(255, 0, 0)') {
    //            if (ss.length == 0) {
    //                ss = ($(this).attr('title'));
    //                ssID = (sss.replace('dF', ''));
    //            } else {
    //                ss = ss + ',' + ($(this).attr('title'));
    //                ssID = ssID + ',' + (sss.replace('dF', ''));
    //            }


    //            //alert(ss);
    //        }
    //    });

    //    //alert(ss);
    //    $('#log').attr('name', ss);
    //    $('#logID').attr('name', ssID);

    //});


</script>


</html>
